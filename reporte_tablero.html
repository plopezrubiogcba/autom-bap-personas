<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tablero Operativo BA</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'] },
                    colors: {
                        'ba-yellow': '#FFD100',
                        'ba-grey': '#333333',
                        'ba-light': '#F3F4F6'
                    }
                }
            }
        }
    </script>
    <style>
        .table-header { background-color: #008080; color: white; }
        .table-row-even { background-color: #f9fafb; }
        .table-row-odd { background-color: #ffffff; }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- Header -->
    <header class="bg-ba-yellow p-4 shadow-md flex justify-between items-center sticky top-0 z-50">
        <h1 class="text-2xl font-bold text-ba-grey uppercase tracking-wider">Indicadores Clave - Red BAP</h1>
        <div class="text-sm font-semibold text-right">
            <div>Actualizado: 11/12/2025 09:09</div>
            <div class="text-xs text-gray-600">Semana: 08 Dec</div>
        </div>
    </header>

    <main class="container mx-auto p-6 space-y-12">

        <!-- SECCION 1: TABLAS -->
        <section class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            
            <!-- TABLA COMUNA 2 -->
            <div class="bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200">
                <div class="bg-teal-600 p-4 text-white font-bold text-lg flex justify-between">
                    <span>Comuna 2</span>
                    <span class="text-sm opacity-80">Recoleta</span>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-sm text-center">
                        <thead>
                            <tr class="bg-teal-700 text-white">
                                <th class="p-3 text-left">Indicadores</th>
                                <th class="p-3 w-20 bg-teal-800">Línea Base</th>
                                
                                <th class="p-3 w-24">20 Oct</th>
                                
                                <th class="p-3 w-24">27 Oct</th>
                                
                                <th class="p-3 w-24">03 Nov</th>
                                
                                <th class="p-3 w-24">10 Nov</th>
                                
                                <th class="p-3 w-24">17 Nov</th>
                                
                                <th class="p-3 w-24">24 Nov</th>
                                
                                <th class="p-3 w-24">01 Dec</th>
                                
                                <th class="p-3 w-24">08 Dec</th>
                                
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-200">
                            
                            <tr class="hover:bg-yellow-50 transition-colors">
                                <td class="p-3 text-left font-semibold text-gray-700 bg-gray-50 sticky left-0">Intervenciones totales</td>
                                <td class="p-3 font-bold text-gray-600 bg-gray-100 border-r border-gray-300">1364</td>
                                
                                <td class="p-3 text-gray-800">
                                    760
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    1606
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    1800
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    1731
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    1632
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    1558
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    1212
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    616
                                </td>
                                
                            </tr>
                            
                            <tr class="hover:bg-yellow-50 transition-colors">
                                <td class="p-3 text-left font-semibold text-gray-700 bg-gray-50 sticky left-0">Derivaciones CIS</td>
                                <td class="p-3 font-bold text-gray-600 bg-gray-100 border-r border-gray-300">92</td>
                                
                                <td class="p-3 text-gray-800">
                                    57
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    97
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    111
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    116
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    116
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    73
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    125
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    47
                                </td>
                                
                            </tr>
                            
                            <tr class="hover:bg-yellow-50 transition-colors">
                                <td class="p-3 text-left font-semibold text-gray-700 bg-gray-50 sticky left-0">Llamados 108</td>
                                <td class="p-3 font-bold text-gray-600 bg-gray-100 border-r border-gray-300">247</td>
                                
                                <td class="p-3 text-gray-800">
                                    308
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    213
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    246
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    272
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    251
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    258
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    292
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    143
                                </td>
                                
                            </tr>
                            
                            <tr class="hover:bg-yellow-50 transition-colors">
                                <td class="p-3 text-left font-semibold text-gray-700 bg-gray-50 sticky left-0">% Contacta</td>
                                <td class="p-3 font-bold text-gray-600 bg-gray-100 border-r border-gray-300">151</td>
                                
                                <td class="p-3 text-gray-800">
                                    24% (185)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    7% (113)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    8% (156)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    8% (150)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    9% (149)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    10% (166)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    16% (197)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    15% (97)
                                </td>
                                
                            </tr>
                            
                            <tr class="hover:bg-yellow-50 transition-colors">
                                <td class="p-3 text-left font-semibold text-gray-700 bg-gray-50 sticky left-0">% No se contacta</td>
                                <td class="p-3 font-bold text-gray-600 bg-gray-100 border-r border-gray-300">90</td>
                                
                                <td class="p-3 text-gray-800">
                                    12% (96)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    5% (94)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    4% (88)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    6% (116)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    6% (100)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    5% (88)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    7% (94)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    7% (45)
                                </td>
                                
                            </tr>
                            
                            <tr class="hover:bg-yellow-50 transition-colors">
                                <td class="p-3 text-left font-semibold text-gray-700 bg-gray-50 sticky left-0">% Sin cubrir</td>
                                <td class="p-3 font-bold text-gray-600 bg-gray-100 border-r border-gray-300">6</td>
                                
                                <td class="p-3 text-gray-800">
                                    3% (27)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    0% (6)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    0% (2)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    0% (6)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    0% (2)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    0% (4)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    0% (1)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    0% (1)
                                </td>
                                
                            </tr>
                            
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- TABLA RESTO CIUDAD -->
            <div class="bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200">
                <div class="bg-teal-600 p-4 text-white font-bold text-lg flex justify-between">
                    <span>Resto de la Ciudad</span>
                    <span class="text-sm opacity-80">Excluyendo Comuna 2</span>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-sm text-center">
                        <thead>
                            <tr class="bg-teal-700 text-white">
                                <th class="p-3 text-left">Indicadores</th>
                                <th class="p-3 w-20 bg-teal-800">Línea Base</th>
                                
                                <th class="p-3 w-24">20 Oct</th>
                                
                                <th class="p-3 w-24">27 Oct</th>
                                
                                <th class="p-3 w-24">03 Nov</th>
                                
                                <th class="p-3 w-24">10 Nov</th>
                                
                                <th class="p-3 w-24">17 Nov</th>
                                
                                <th class="p-3 w-24">24 Nov</th>
                                
                                <th class="p-3 w-24">01 Dec</th>
                                
                                <th class="p-3 w-24">08 Dec</th>
                                
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-200">
                            
                            <tr class="hover:bg-yellow-50 transition-colors">
                                <td class="p-3 text-left font-semibold text-gray-700 bg-gray-50 sticky left-0">Intervenciones totales</td>
                                <td class="p-3 font-bold text-gray-600 bg-gray-100 border-r border-gray-300">4344</td>
                                
                                <td class="p-3 text-gray-800">
                                    5881
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    3949
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    4501
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    4573
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    4842
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    4607
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    4243
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    2156
                                </td>
                                
                            </tr>
                            
                            <tr class="hover:bg-yellow-50 transition-colors">
                                <td class="p-3 text-left font-semibold text-gray-700 bg-gray-50 sticky left-0">Derivaciones CIS</td>
                                <td class="p-3 font-bold text-gray-600 bg-gray-100 border-r border-gray-300">341</td>
                                
                                <td class="p-3 text-gray-800">
                                    489
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    259
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    355
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    359
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    388
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    373
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    333
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    178
                                </td>
                                
                            </tr>
                            
                            <tr class="hover:bg-yellow-50 transition-colors">
                                <td class="p-3 text-left font-semibold text-gray-700 bg-gray-50 sticky left-0">Llamados 108</td>
                                <td class="p-3 font-bold text-gray-600 bg-gray-100 border-r border-gray-300">2798</td>
                                
                                <td class="p-3 text-gray-800">
                                    3855
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    2340
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    2746
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    2911
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    3127
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    3000
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    2861
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    1551
                                </td>
                                
                            </tr>
                            
                            <tr class="hover:bg-yellow-50 transition-colors">
                                <td class="p-3 text-left font-semibold text-gray-700 bg-gray-50 sticky left-0">% Contacta</td>
                                <td class="p-3 font-bold text-gray-600 bg-gray-100 border-r border-gray-300">782</td>
                                
                                <td class="p-3 text-gray-800">
                                    33% (1987)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    11% (456)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    13% (602)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    13% (601)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    15% (771)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    15% (702)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    15% (642)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    23% (499)
                                </td>
                                
                            </tr>
                            
                            <tr class="hover:bg-yellow-50 transition-colors">
                                <td class="p-3 text-left font-semibold text-gray-700 bg-gray-50 sticky left-0">% No se contacta</td>
                                <td class="p-3 font-bold text-gray-600 bg-gray-100 border-r border-gray-300">717</td>
                                
                                <td class="p-3 text-gray-800">
                                    24% (1412)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    12% (485)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    12% (576)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    16% (752)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    13% (671)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    16% (777)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    13% (568)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    23% (497)
                                </td>
                                
                            </tr>
                            
                            <tr class="hover:bg-yellow-50 transition-colors">
                                <td class="p-3 text-left font-semibold text-gray-700 bg-gray-50 sticky left-0">% Sin cubrir</td>
                                <td class="p-3 font-bold text-gray-600 bg-gray-100 border-r border-gray-300">1299</td>
                                
                                <td class="p-3 text-gray-800">
                                    7% (456)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    35% (1399)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    34% (1568)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    34% (1558)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    34% (1685)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    33% (1521)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    38% (1651)
                                </td>
                                
                                <td class="p-3 text-gray-800">
                                    25% (555)
                                </td>
                                
                            </tr>
                            
                        </tbody>
                    </table>
                </div>
            </div>

        </section>

        <!-- SECCION 2: GRAFICOS -->
        <section class="bg-white rounded-xl shadow-lg p-6 border border-gray-200">
            <h2 class="text-xl font-bold text-gray-800 mb-6 border-b pb-2">Evolución Semanal de DNI's (Operación Comuna 2)</h2>
            <div class="relative h-96 w-full">
                <canvas id="dniChart"></canvas>
            </div>
        </section>

    </main>

    <footer class="text-center p-8 text-gray-500 text-sm">
        <p>Gobierno de la Ciudad de Buenos Aires - BAP Personas</p>
    </footer>

    <script>
        // Datos inyectados desde Python
        const chartData = {"labels": ["20 Oct", "27 Oct", "03 Nov", "10 Nov", "17 Nov", "24 Nov", "01 Dec", "08 Dec"], "migratorios": [0, 0, 0, 0, 0, 0, 0, 0], "nuevos": [81, 128, 134, 142, 105, 90, 94, 44], "recurrentes": [122, 207, 197, 199, 185, 161, 190, 89]};
        
        const ctx = document.getElementById('dniChart').getContext('2d');
        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: chartData.labels,
                datasets: [
                    {
                        label: 'Nuevos',
                        data: chartData.nuevos,
                        backgroundColor: '#10B981', // green-500
                    },
                    {
                        label: 'Recurrentes',
                        data: chartData.recurrentes,
                        backgroundColor: '#3B82F6', // blue-500
                    },
                    {
                        label: 'Migratorios',
                        data: chartData.migratorios,
                        backgroundColor: '#F97316', // orange-500
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: { stacked: true, grid: { display: false } },
                    y: { 
                        stacked: true,
                        beginAtZero: true
                    }
                },
                plugins: {
                    legend: { position: 'top' },
                    tooltip: {
                        mode: 'index',
                        intersect: false,
                    }
                }
            }
        });
    </script>
</body>
</html>